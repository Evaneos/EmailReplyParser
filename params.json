{
  "name": "EmailReplyParser",
  "tagline": "PHP library for parsing plain text email content.",
  "body": "EmailReplyParser\r\n================\r\n\r\n[![Build\r\nStatus](https://secure.travis-ci.org/willdurand/EmailReplyParser.png)](http://travis-ci.org/willdurand/EmailReplyParser)\r\n[![Total\r\nDownloads](https://poser.pugx.org/willdurand/email-reply-parser/downloads.png)](https://packagist.org/packages/willdurand/email-reply-parser)\r\n[![Latest Stable\r\nVersion](https://poser.pugx.org/willdurand/email-reply-parser/v/stable.png)](https://packagist.org/packages/willdurand/email-reply-parser)\r\n![PHP7 ready](https://img.shields.io/badge/PHP7-ready-green.svg)\r\n\r\n**EmailReplyParser** is a PHP library for parsing plain text email content,\r\nbased on GitHub's [email_reply_parser](http://github.com/github/email_reply_parser)\r\nlibrary written in Ruby.\r\n\r\n\r\nInstallation\r\n------------\r\n\r\nThe recommended way to install EmailReplyParser is through\r\n[Composer](http://getcomposer.org/):\r\n\r\n``` shell\r\ncomposer require willdurand/email-reply-parser\r\n```\r\n\r\nUsage\r\n-----\r\n\r\nInstantiate an `EmailParser` object and parse your email:\r\n\r\n``` php\r\n<?php\r\n\r\nuse EmailReplyParser\\Parser\\EmailParser;\r\n\r\n$email = (new EmailParser())->parse($emailContent);\r\n```\r\n\r\nYou get an `Email` object that contains a set of `Fragment` objects. The `Email`\r\nclass exposes two methods:\r\n\r\n* `getFragments()`: returns all fragments;\r\n* `getVisibleText()`: returns a string which represents the content considered\r\n  as \"visible\".\r\n\r\nThe `Fragment` represents a part of the full email content, and has the\r\nfollowing API:\r\n\r\n``` php\r\n<?php\r\n\r\n$fragment = current($email->getFragments());\r\n\r\n$fragment->getContent();\r\n\r\n$fragment->isSignature();\r\n\r\n$fragment->isQuoted();\r\n\r\n$fragment->isHidden();\r\n\r\n$fragment->isEmpty();\r\n```\r\n\r\nAlternatively, you can rely on the `EmailReplyParser` to either parse an email\r\nor get its visible content in a single line of code:\r\n\r\n``` php\r\n$email = \\EmailReplyParser\\EmailReplyParser::read($emailContent);\r\n\r\n$visibleText = \\EmailReplyParser\\EmailReplyParser::parseReply($emailContent);\r\n```\r\n\r\n\r\nKnown Issues\r\n------------\r\n\r\n### Quoted Headers\r\n\r\nQuoted headers aren't picked up if there's an extra line break:\r\n\r\n    On <date>, <author> wrote:\r\n\r\n    > blah\r\n\r\nAlso, they're not picked up if the email client breaks it up into\r\nmultiple lines.  GMail breaks up any lines over 80 characters for you.\r\n\r\n    On <date>, <author>\r\n    wrote:\r\n    > blah\r\n\r\nThe above `On ....wrote:` can be cleaned up with the following regex:\r\n\r\n``` php\r\n$fragment_without_date_author = preg_replace(\r\n    '/\\nOn(.*?)wrote:(.*?)$/si',\r\n    '',\r\n    $fragment->getContent()\r\n);\r\n```\r\n\r\nNote though that we're search for \"on\" and \"wrote\".  Therefore, it won't work\r\nwith other languages.\r\n\r\nPossible solution: Remove \"reply@reply.github.com\" lines...\r\n\r\n### Weird Signatures\r\n\r\nLines starting with `-` or `_` sometimes mark the beginning of\r\nsignatures:\r\n\r\n    Hello\r\n\r\n    --\r\n    Rick\r\n\r\nNot everyone follows this convention:\r\n\r\n    Hello\r\n\r\n    Mr Rick Olson\r\n    Galactic President Superstar Mc Awesomeville\r\n    GitHub\r\n\r\n    **********************DISCLAIMER***********************************\r\n    * Note: blah blah blah                                            *\r\n    **********************DISCLAIMER***********************************\r\n\r\n\r\n\r\n### Strange Quoting\r\n\r\nApparently, prefixing lines with `>` isn't universal either:\r\n\r\n    Hello\r\n\r\n    --\r\n    Rick\r\n\r\n    ________________________________________\r\n    From: Bob [reply@reply.github.com]\r\n    Sent: Monday, March 14, 2011 6:16 PM\r\n    To: Rick\r\n\r\n\r\nUnit Tests\r\n----------\r\n\r\nSetup the test suite using Composer:\r\n\r\n    $ composer install\r\n\r\nRun it using PHPUnit:\r\n\r\n    $ phpunit\r\n\r\n\r\nContributing\r\n------------\r\n\r\nSee CONTRIBUTING file.\r\n\r\n\r\nCredits\r\n-------\r\n\r\n* GitHub\r\n* William Durand <william.durand1@gmail.com>\r\n\r\n\r\nLicense\r\n-------\r\n\r\nEmailReplyParser is released under the MIT License. See the bundled LICENSE\r\nfile for details.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}